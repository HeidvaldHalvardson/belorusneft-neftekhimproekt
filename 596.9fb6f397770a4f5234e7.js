"use strict";(self.webpackChunkbelorusneft_neftekhimproekt=self.webpackChunkbelorusneft_neftekhimproekt||[]).push([[596],{5596:(e,r,n)=>{n.r(r),n.d(r,{default:()=>f});var t=n(4848),a=n(6540),s=n(9785),o=n(926),l=n(1248),i=n(9068),c=n(7739),u=n(9176),m=n(3811);const d={changeToSignUp:"pQkq4kvz",controls:"_VH5sRlm",errorText:"lqtSCYKp"};var p=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;const f=function(e){var r,n=e.onClose,f=void 0===n?function(){}:n,v=e.changeToSignIn,h=void 0===v?function(){}:v,g=(0,o.j)(),b=(0,c.W)(),x=b[0],j=b[1],y=j.data,N=j.error,k=null===(r=null==N?void 0:N.data)||void 0===r?void 0:r.error,O=(0,s.mN)({defaultValues:{email:"",password:"",firstName:"",lastName:""}}),w=O.control,S=O.handleSubmit,L=(0,a.useCallback)((function(e){g(l.I2.setAuthData(e))}),[g]),Z=(0,a.useCallback)((function(e){g(i.Xp.setUser(e))}),[g]);return(0,a.useEffect)((function(){if(y&&!k){var e=y.token,r=function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(t=Object.getOwnPropertySymbols(e);a<t.length;a++)r.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(n[t[a]]=e[t[a]])}return n}(y,["token"]);L(e),Z(r),f()}}),[k,f,L,Z,y]),(0,t.jsxs)("form",{className:d.SingInForm,onSubmit:S((function(e){x(e)})),children:[(0,t.jsx)(m.Z,{label:"First Name",name:"firstName",control:w,rules:{required:"Имя обязательно",minLength:{value:2,message:"Имя должно содержать минимум 2 символов"},maxLength:{value:10,message:"Имя не может быть больше 10 символов"}}}),(0,t.jsx)(m.Z,{label:"Last Name",name:"lastName",control:w,rules:{required:"Фамилия обязательна",minLength:{value:2,message:"Фамилия должна содержать минимум 2 символов"},maxLength:{value:10,message:"Фамилия не может быть больше 10 символов"}}}),(0,t.jsx)(m.Z,{label:"email",name:"email",control:w,rules:{required:"Email обязателен",pattern:{value:p,message:"Некоректный формат email"}}}),(0,t.jsx)(m.Z,{label:"password",name:"password",type:"password",control:w,rules:{required:"Пароль обязателен",minLength:{value:8,message:"Пароль должен содержать минимум 8 символов"}}}),k&&(0,t.jsx)("span",{className:d.errorText,children:k}),(0,t.jsxs)("div",{className:d.controls,children:[(0,t.jsx)("button",{className:d.changeToSignUp,onClick:h,type:"button",children:"Login"}),(0,t.jsx)(u.$,{type:"submit",children:"Registration"})]})]})}},3811:(e,r,n)=>{n.d(r,{Z:()=>l});var t=n(4848),a=n(9785);const s={FormInput:"Le4MA2Hg",input:"EsYV_0F9",errorBorder:"KnBP8XWj",errorText:"HQdYLVpM"};var o=function(){return o=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var a in r=arguments[n])Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e},o.apply(this,arguments)},l=function(e){var r=e.className,n=void 0===r?"":r,l=e.label,i=e.control,c=e.name,u=e.rules,m=e.type,d=void 0===m?"text":m;return(0,t.jsxs)("label",{className:"".concat(s.FormInput," ").concat(n),children:[l,(0,t.jsx)(a.xI,{control:i,name:c,rules:u,render:function(e){var r=e.field,n=e.fieldState;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",o({className:s.input,type:d},r)),(null==n?void 0:n.error)&&(0,t.jsxs)("div",{className:s.error,children:[(0,t.jsx)("div",{className:s.errorBorder}),(0,t.jsx)("span",{className:s.errorText,children:n.error.message})]})]})}})]})}}}]);