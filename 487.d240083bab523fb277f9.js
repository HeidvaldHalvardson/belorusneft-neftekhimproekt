"use strict";(self.webpackChunkbelorusneft_neftekhimproekt=self.webpackChunkbelorusneft_neftekhimproekt||[]).push([[487],{1487:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var i=n(4848),s=n(6540),a=n(1468),c=n(6527),r=n(6122),l=n(926),o=n(1747),u=n(53),h=n(7861),d=n(9176),m=n(7383);var f=function(e){var t=e.className,n=void 0===t?"":t,s=e.item,a=(0,c.zy)(),r=(0,c.Zp)(),l=new Date(s.snippet.publishedAt),o=(0,h.w)(s.snippet.publishedAt),u=new Intl.DateTimeFormat("ru-RU").format(l);return(0,i.jsxs)("li",{className:"".concat("wE6x08Sy"," ").concat(n),style:{borderBottom:"4px solid ".concat(o)},children:[(0,i.jsx)("img",{className:"x2SvaIhM",src:s.snippet.thumbnails.maxres.url,width:223,height:123,alt:"Изображение ".concat(s.snippet.title)}),(0,i.jsx)(m.K,{className:"jWm3TrOJ",statistics:s.statistics}),(0,i.jsx)("h3",{className:"_8MKRG7g",children:s.snippet.title}),(0,i.jsx)("span",{className:"nq2WhcTc",children:u}),(0,i.jsx)(d.$,{className:"vSXW5nRJ",onClick:function(){r("/videos/".concat(s.id),{state:{from:a}})},children:"Далее..."})]})};var p=function(e){var t=e.className,n=void 0===t?"":t,s=e.items;return(0,i.jsx)("ul",{className:"".concat("W4K5Xncn"," ").concat(n),children:s.map((function(e){return(0,i.jsx)(f,{item:e},e.id)}))})};var v=function(e){var t=e.className,n=void 0===t?"":t,s=e.total,a=void 0===s?0:s,c=e.current,r=void 0===c?1:c,l=e.pageSize,o=void 0===l?12:l,u=e.onChangePage,h=void 0===u?function(){}:u,d=e.onChangeSize,m=void 0===d?function(){}:d,f=Math.ceil(a/o),p=1===r?null:r-1,v=r===f?null:r+1,g=function(){var e=[];if(1===f)return[1];e.push(1),p&&p>2&&e.push(null);for(var t=Math.max(2,p);t<=Math.min(f-1,v);t++)e.push(t);return v&&v<f-1&&e.push(null),r===f&&f>2&&e.push(f-1),f>1&&e.push(f),e}();return(0,i.jsxs)("div",{className:"".concat("E07wxAz8"," ").concat(n),children:[(0,i.jsx)("ul",{className:"zs80e4P6",children:g.map((function(e){return e?(0,i.jsx)("li",{className:"".concat("X3Z18Kgz"," ").concat(e===r?"TkuHKfgV":""),onClick:function(){return h(e)},children:e},e):(0,i.jsx)("li",{className:"ZGw1NPrF",children:"..."},e)}))}),(0,i.jsx)("select",{className:"kc1hON8q",value:o,onChange:function(e){var t=+e.target.value;m(t),h(1)},children:[12,20,32,56].map((function(e){return(0,i.jsxs)("option",{value:e,children:[e," / page"]},e)}))})]})};const g=function(){var e=(0,l.j)(),t=(0,c.zy)(),n=(0,c.ok)(),h=n[0],d=n[1],m=(0,a.d4)(o.vA),f=m.page,g=m.limit,x=m.sort,j=m.filter,k=(0,r.b)().filter,N=(0,u.k)({page:f,limit:g,sort:x,filter:j}),C=N.data,b=N.error,w=N.isLoading,z=(0,s.useCallback)((function(t){e(o.uE.setPage(t))}),[e]),S=(0,s.useCallback)((function(t){e(o.uE.setLimit(t))}),[e]),E=(0,s.useCallback)((function(t){e(o.uE.setSort(t))}),[e]),M=(0,s.useCallback)((function(t){e(o.uE.setFilter(t))}),[e]);(0,s.useEffect)((function(){var e=h.get("page"),t=h.get("limit"),n=h.get("sort"),i=h.get("filter");e&&z(+e),t&&S(+t),n&&E(n),i&&M(i)}),[t.search,e,h,z,S,E,M]);var F=(0,s.useMemo)((function(){return k?null==C?void 0:C.items.filter((function(e){return e.snippet.title.toLowerCase().includes(k.toLowerCase())})):null==C?void 0:C.items}),[k,C]);return(0,i.jsxs)(i.Fragment,{children:[w&&(0,i.jsx)("div",{children:"Loading..."}),b&&(0,i.jsx)("div",{children:"Что-то пошло не так..."}),F&&F.length>0?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(p,{items:F})}):(0,i.jsx)("div",{children:"Ничего не найдено"}),(0,i.jsx)(v,{total:null==C?void 0:C.pageInfo.totalResults,current:f,onChangePage:function(e){d((function(t){return t.set("page","".concat(e)),t}))},onChangeSize:function(e){d((function(t){return t.set("limit","".concat(e)),t}))},pageSize:g})]})}}}]);